$(document).on("click",".tag",function(){var f=$(this),d=$(".js-main-content"),e=d.data("page");if(f.hasClass("active")){f.removeClass("active")}else{f.addClass("active")}handleAngebote(e)});$(document).on("click","#menueBig",function(){$("#navigationBig").fadeToggle(500)});function handleAngebote(d,f){var e=getActiveTags();$.ajax({type:"POST",url:"index.php?route=filter-reisen",dataType:"json",data:{tagIds:e,page:d,regionId:f},success:function(a){if(a.status==="success"){$(".js-main-content").html(a.view);$(".js-reise-remove").remove();if(typeof a.regionRemove!=="undefined"){$(".js-teaser").prepend(a.regionRemove)}}}})}$(document).on("click",".continent",function(){var l=$(this),h=l.data("continentId"),i=$("#regionenAusgabe"),j=$(".js-main-content"),k=j.data("page");i.html("");var g=getActiveTags();$.ajax({type:"POST",url:"index.php?route=navigation-regions",dataType:"json",data:{continentId:h,tagIds:g,page:k},success:function(a){if(a.status==="success"){i.html(a.view);$(".continent").removeClass("active");l.addClass("active")}}})});$(document).on("mouseover",".js-region",function(){var f=$(this),e=f.data("regionBild"),d=f.data("regionBeschreibung");$("#navigationBild").attr("src",e);$("#kontinentInformation").html(d)});$(document).on("click",".js-region",function(){var f=$(this),e=$(".js-main-content"),d=f.data("regionId");if(e.data("page")!=="home"){$(location).attr("href","index.php?route=index&regionId="+d)}else{handleAngebote(e.data("page"),d);$("#menueBig").trigger("click")}});$(document).on("mouseover",".continent",function(){$("#world_map").attr("src",$(this).data("continentBild"))});function getActiveTags(){var b=[];$(".tag.active").each(function(){b.push($(this).data("tagId"))});return b}$(document).on("click",".js-create-reise",function(){$("#erstelleReiseContainer").fadeToggle(500)});$(document).on("click",".js-create-neuigkeiten",function(){$("#erstelleNeuigkeitenContainer").fadeToggle(500)});$(document).on("submit","#bearbeiteNeuigkeitForm",function(f){f.preventDefault();var d=$(this).find(".holeNeuigkeiten").val(),e=$(".js-bearbeite-neuigkeiten");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-neuigkeiten",dataType:"json",data:{newsId:d},success:function(a){if(a.status==="success"){e.html(a.view)}}})});$(document).on("submit",".hole-reise",function(e){e.preventDefault();var f=$(this).find(".js-hole-reisedaten-select").val(),d=$(".js-bearbeite-reise");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-reise",dataType:"json",data:{reiseId:f},success:function(a){if(a.status==="success"){d.html(a.view);CKEDITOR.replace("ReiseEditorCKE");CKEDITOR.replace("editorCKE3")}}})});$(document).ready(function(){if(typeof CKEDITOR!=="undefined"){CKEDITOR.replace("editorCKE")}if($(".hole-reise .js-hole-reisedaten-select").val()!==0){$(".hole-reise").submit();if(typeof $(".js-bearbeite-reise").offset()!=="undefined"){$("html, body").animate({scrollTop:$(".js-bearbeite-reise").offset().top},2000)}}});$(document).on("click","img.open",function(){var b=$("#nav");if(b.is(":visible")){b.hide()}else{b.show()}});$(document).on("submit",".js-erstelle-frage",function(k){k.preventDefault();var j=$(this),i=j.find(".js-reiseId").val(),h=$(".js-erstelle-frage-status"),l=j.find(".js-frage"),g=j.find(".js-antwort");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-frage",dataType:"json",data:{reiseId:i,frage:l.val(),antwort:g.val()},success:function(a){if(a.status==="success"){h.html("Die Frage wurde gespeichert.");l.val("");g.val("")}else{h.html("Die Frage konnte nicht gespeichert werden")}},error:function(){h.html("Die Frage konnte nicht gespeichert werden")}})});$(document).on("submit",".js-bearbeite-frage",function(f){f.preventDefault();var e=$(".js-frage-liste").val(),d=$(".js-bearbeite-frage-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-frage",dataType:"json",data:{frageId:e},success:function(a){d.html(a.view)},error:function(){d.html("Die Frage konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-leistungen",function(l){l.preventDefault();var i=$(this),g=i.find(".js-reiseId").val(),j=i.find("#editorCKE3").val(),k=i.find(".js-leistungId").val(),h=$(".js-erstelle-leistung-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-leistungen",dataType:"json",data:{reiseId:g,text:j,leistungId:k},success:function(){h.html("Die Leistung wurde erfolgreich gespeichert.")},error:function(){h.html("Die Leistung konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-erstelle-reiseverlauf",function(l){l.preventDefault();var k=$(this),m=k.find(".js-reiseId").val(),j=k.find(".js-reisetag"),n=k.find(".js-titel"),i=k.find(".js-beschreibung"),h=$(".js-erstelle-reiseverlauf-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-reiseverlauf",dataType:"json",data:{reiseId:m,reisetag:j.val(),titel:n.val(),beschreibung:i.val()},success:function(){h.html("Der Verlauf wurde erfolgreich gespeichert.");j.val("");n.val("");i.val("")},error:function(){h.html("Der Verlauf konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-bearbeite-reiseverlauf",function(f){f.preventDefault();var d=$(".js-verlaufliste").val(),e=$(".js-bearbeite-reiseverlauf-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-reiseverlauf",dataType:"json",data:{reiseverlaufId:d},success:function(a){e.html(a.view)},error:function(){e.html("Der Reiseverlauf konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-reisetermin",function(k){k.preventDefault();var j=$(this),l=j.find(".js-reiseId").val(),n=j.find(".js-start"),h=j.find(".js-ende"),i=j.find(".js-preis"),m=$(".js-erstelle-reisetermin-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-reisetermin",dataType:"json",data:{reiseId:l,start:n.val(),ende:h.val(),preis:i.val()},success:function(){m.html("Der Reisetermin wurde erfolgreich gespeichert.");n.val("");h.val("");i.val("")},error:function(){m.html("Der Reisetermin konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-bearbeite-reisetermin",function(d){d.preventDefault();var f=$(".js-termine-liste").val(),e=$(".js-bearbeite-reisetermin-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-termin",dataType:"json",data:{terminId:f},success:function(a){e.html(a.view)},error:function(){e.html("Der Termin konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-reisetags",function(j){j.preventDefault();var h=$(this),f=h.find(".js-reiseId").val(),i=h.find(".js-tag-auswahl").val(),g=$(".js-erstelle-tag-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-tag",dataType:"json",data:{reiseId:f,tagIds:i},success:function(){g.html("Die Tags wurden erfolgreich gespeichert.")},error:function(){g.html("Die Tags konnte nicht gespeichert werden werden.")}})});function showVerlauf(f){var e=document.getElementById("reiseverlaufDetail").getElementsByClassName("verlauf").length;for(var d=0;d<e;d++){document.getElementById("reiseverlaufDetail").getElementsByClassName("verlauf").item(d).style.display="none"}document.getElementById("verlauf"+f).style.display="inherit"}function showReiseverlauf(){document.getElementById("reiseverlaufDetail").style.height="auto";document.getElementById("reiseverlaufMehr").style.display="none"}function showLeistungen(){document.getElementById("reiseSidebarLeistungenContainer").style.height="auto";document.getElementById("leistungenMehr").style.display="none"}function showTermine(){document.getElementById("reiseTerminContainer").style.height="auto";document.getElementById("termineMehr").style.display="none"};