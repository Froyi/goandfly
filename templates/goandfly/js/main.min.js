$(document).on("click",".tag",function(){var c=$(this),b=$(".js-main-content"),a=b.data("page");if(c.hasClass("active")){c.removeClass("active")}else{c.addClass("active")}handleAngebote(a)});$(document).on("click","#menueBig",function(){$("#navigationBig").fadeToggle(500)});function handleAngebote(b,c){var a=getActiveTags();$.ajax({type:"POST",url:"index.php?route=filter-reisen",dataType:"json",data:{tagIds:a,page:b,regionId:c},success:function(d){if(d.status==="success"){$(".js-main-content").html(d.view);$(".js-reise-remove").remove();if(typeof d.regionRemove!=="undefined"){$(".js-teaser").prepend(d.regionRemove)}}}})}$(document).on("click",".continent",function(){var c=$(this),a=c.data("continentId"),f=$("#regionenAusgabe"),e=$(".js-main-content"),d=e.data("page");f.html("");var b=getActiveTags();$.ajax({type:"POST",url:"index.php?route=navigation-regions",dataType:"json",data:{continentId:a,tagIds:b,page:d},success:function(g){if(g.status==="success"){f.html(g.view);$(".continent").removeClass("active");c.addClass("active")}}})});$(document).on("mouseover",".js-region",function(){var c=$(this),a=c.data("regionBild"),b=c.data("regionBeschreibung");$("#navigationBild").attr("src",a);$("#kontinentInformation").html(b)});$(document).on("click",".js-region",function(){var c=$(this),a=$(".js-main-content"),b=c.data("regionId");if(a.data("page")!=="home"){$(location).attr("href","index.php?route=index&regionId="+b)}else{handleAngebote(a.data("page"),b);$("#menueBig").trigger("click")}});$(document).on("mouseover",".continent",function(){$("#world_map").attr("src",$(this).data("continentBild"))});function getActiveTags(){var a=[];$(".tag.active").each(function(){a.push($(this).data("tagId"))});return a}$(document).on("click",".js-create-reise",function(){$("#erstelleReiseContainer").fadeToggle(500)});$(document).on("click",".js-create-neuigkeiten",function(){$("#erstelleNeuigkeitenContainer").fadeToggle(500)});$(document).on("submit","#bearbeiteNeuigkeitForm",function(c){c.preventDefault();var b=$(this).find(".holeNeuigkeiten").val(),a=$(".js-bearbeite-neuigkeiten");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-neuigkeiten",dataType:"json",data:{newsId:b},success:function(d){if(d.status==="success"){a.html(d.view)}}})});$(document).on("submit",".hole-reise",function(a){a.preventDefault();var c=$(this).find(".js-hole-reisedaten-select").val(),b=$(".js-bearbeite-reise");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-reise",dataType:"json",data:{reiseId:c},success:function(d){if(d.status==="success"){b.html(d.view);CKEDITOR.replace("ReiseEditorCKE");CKEDITOR.replace("editorCKE3")}}})});$(document).ready(function(){if(typeof CKEDITOR!=="undefined"){CKEDITOR.replace("editorCKE")}if($(".hole-reise .js-hole-reisedaten-select").val()!==0){$(".hole-reise").submit();if(typeof $(".js-bearbeite-reise").offset()!=="undefined"){$("html, body").animate({scrollTop:$(".js-bearbeite-reise").offset().top},2000)}}});$(document).on("click","img.open",function(){var a=$("#nav");if(a.is(":visible")){a.hide()}else{a.show()}});$(document).on("submit",".js-erstelle-frage",function(d){d.preventDefault();var e=$(this),f=e.find(".js-reiseId").val(),a=$(".js-erstelle-frage-status"),c=e.find(".js-frage"),b=e.find(".js-antwort");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-frage",dataType:"json",data:{reiseId:f,frage:c.val(),antwort:b.val()},success:function(g){if(g.status==="success"){a.html("Die Frage wurde gespeichert.");c.val("");b.val("")}else{a.html("Die Frage konnte nicht gespeichert werden")}},error:function(){a.html("Die Frage konnte nicht gespeichert werden")}})});$(document).on("submit",".js-bearbeite-frage",function(c){c.preventDefault();var a=$(".js-frage-liste").val(),b=$(".js-bearbeite-frage-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-frage",dataType:"json",data:{frageId:a},success:function(d){b.html(d.view)},error:function(){b.html("Die Frage konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-leistungen",function(c){c.preventDefault();var f=$(this),b=f.find(".js-reiseId").val(),e=f.find("#editorCKE3").val(),d=f.find(".js-leistungId").val(),a=$(".js-erstelle-leistung-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-leistungen",dataType:"json",data:{reiseId:b,text:e,leistungId:d},success:function(){a.html("Die Leistung wurde erfolgreich gespeichert.")},error:function(){a.html("Die Leistung konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-erstelle-reiseverlauf",function(e){e.preventDefault();var f=$(this),d=f.find(".js-reiseId").val(),g=f.find(".js-reisetag"),c=f.find(".js-titel"),a=f.find(".js-beschreibung"),b=$(".js-erstelle-reiseverlauf-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-reiseverlauf",dataType:"json",data:{reiseId:d,reisetag:g.val(),titel:c.val(),beschreibung:a.val()},success:function(){b.html("Der Verlauf wurde erfolgreich gespeichert.");g.val("");c.val("");a.val("")},error:function(){b.html("Der Verlauf konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-bearbeite-reiseverlauf",function(c){c.preventDefault();var b=$(".js-verlaufliste").val(),a=$(".js-bearbeite-reiseverlauf-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-reiseverlauf",dataType:"json",data:{reiseverlaufId:b},success:function(d){a.html(d.view)},error:function(){a.html("Der Reiseverlauf konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-reisetermin",function(f){f.preventDefault();var g=$(this),e=g.find(".js-reiseId").val(),c=g.find(".js-start"),b=g.find(".js-ende"),a=g.find(".js-preis"),d=$(".js-erstelle-reisetermin-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-reisetermin",dataType:"json",data:{reiseId:e,start:c.val(),ende:b.val(),preis:a.val()},success:function(){d.html("Der Reisetermin wurde erfolgreich gespeichert.");c.val("");b.val("");a.val("")},error:function(){d.html("Der Reisetermin konnte nicht gespeichert werden werden.")}})});$(document).on("submit",".js-bearbeite-reisetermin",function(b){b.preventDefault();var c=$(".js-termine-liste").val(),a=$(".js-bearbeite-reisetermin-container");$.ajax({type:"POST",url:"index.php?route=ajax-bearbeite-termin",dataType:"json",data:{terminId:c},success:function(d){a.html(d.view)},error:function(){a.html("Der Termin konnte nicht gefunden werden.")}})});$(document).on("submit",".js-erstelle-reisetags",function(c){c.preventDefault();var e=$(this),b=e.find(".js-reiseId").val(),d=e.find(".js-tag-auswahl").val(),a=$(".js-erstelle-tag-status");$.ajax({type:"POST",url:"index.php?route=ajax-erstelle-tag",dataType:"json",data:{reiseId:b,tagIds:d},success:function(){a.html("Die Tags wurden erfolgreich gespeichert.")},error:function(){a.html("Die Tags konnte nicht gespeichert werden werden.")}})});function showVerlauf(c){var a=document.getElementById("reiseverlaufDetail").getElementsByClassName("verlauf").length;for(var b=0;b<a;b++){document.getElementById("reiseverlaufDetail").getElementsByClassName("verlauf").item(b).style.display="none"}document.getElementById("verlauf"+c).style.display="inherit"}function showReiseverlauf(){document.getElementById("reiseverlaufDetail").style.height="auto";document.getElementById("reiseverlaufMehr").style.display="none"}function showLeistungen(){document.getElementById("reiseSidebarLeistungenContainer").style.height="auto";document.getElementById("leistungenMehr").style.display="none"}function showTermine(){document.getElementById("reiseTerminContainer").style.height="auto";document.getElementById("termineMehr").style.display="none"};